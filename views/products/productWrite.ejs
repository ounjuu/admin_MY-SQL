<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="/public/css/write.css" />
    <title>Document</title>
  </head>
  <body>
    <h1>수정 페이지</h1>
    <form name="updateData">
      <!-- 상품명 수정 -->
      <div class="nameBox formBoxdiv">
        <div class="labelBox">
          <label for="productName">상품명 수정</label>
        </div>
        <div class="inputBox">
          <input
            placeholder="상품명을 입력해 주세요."
            id="productName"
            name="productName"
            class="notoSansfont"
            value="<%= data[0].name %>"
            required
          />
          <div class="nameText"></div>
        </div>
      </div>
      <!-- 가격 숫자 -->
      <div class="priceBox formBoxdiv">
        <div class="labelBox">
          <label for="price">판매가 수정</label>
        </div>
        <div class="inputBox">
          <input
            placeholder="판매가를 입력해 주세요."
            id="price"
            name="price"
            type="number"
            pattern="^\d{1,3}(?:,\d{3})*$"
            title="숫자만 입력해주세요."
            class="notoSansfont"
            value="<%= data[0].price %>"
            required
          />
          <div class="priceText"></div>
        </div>
      </div>

      <!-- 상세내용 -->
      <div class="contentBox formBoxdiv">
        <div class="labelBox">
          <label for="productContent">상품 상세설명</label>
        </div>
        <div class="textareaBox">
          <textarea
            placeholder="상세내용을 입력해 주세요."
            id="productContent"
            name="productContent"
            class="notoSansfont"
            required
          >
<%= data[0].description %></textarea
          >
          <div class="contentText"></div>
        </div>
      </div>
      <!-- 상품 타입 선택 -->
      <div>상품 타입 선택</div>
      <select id="typeSelect" name="productType">
        <!-- <option value="" disabled selected>TYPE</option> -->
        <option
          value="thread <%= data[0].product_type === 'thread' ? 'selected' : '' %>"
        >
          실
        </option>
        <option
          value="needle <%= data[0].product_type === 'needle' ? 'selected' : '' %>"
        >
          바늘/도구
        </option>
        <option
          value="package <%= data[0].product_type === 'package' ? 'selected' : '' %>"
        >
          패키지
        </option>
      </select>
      <!-- 이미지 업로드 -->
      <div class="formBoxdiv">
        <div class="labelBox">
          <label for="productImage">이미지 수정(업로드 최대 2개)</label>
        </div>
        <input
          type="file"
          name="productImage"
          id="productImage"
          required
          multiple
        />
        <div class="imgRightBox">
          <div id="uploadDiv" class="uploadDiv">
            <img src="" alt="Upload Image" id="uploadImage" />
          </div>
          <div id="imgpreviewbox1">
            <img id="preview1" src="/public<%= data[0].image_url_1 %>" />
          </div>
          <div id="imgpreviewbox2">
            <img id="preview2" src="/public<%= data[0].image_url_2 %>" />
          </div>
          <div class="imageupText"></div>
        </div>
        <div class="imageupText"></div>
      </div>

      <!--  -->
      <div class="writebtnWrap">
        <button type="submit" onclick="updateForm(`<%= data[0].id %>`)">
          수정
        </button>
      </div>
    </form>
  </body>
  <script src="/public/js/write.js"></script>
</html>
