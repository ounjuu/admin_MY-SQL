<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Gothic+A1&family=Gowun+Dodum&family=Manrope:wght@200..800&family=Nanum+Gothic:wght@400;700;800&family=Noto+Sans+KR&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="/public/css/write.css" />
    <title>fix</title>
  </head>
  <body>
    <div class="allWrapper">
      <!-- 헤더 -->
      <div class="shopHeader"><%- include('header.ejs') %></div>
      <!-- 본문 -->
      <div class="shopContent nanum-gothic-regular">
        <div class="fixBox">
          <div class="productAddText"><p>상품 수정</p></div>
          <div class="updateFormBox">
            <form name="updateData">
              <!-- 상품명 수정 -->
              <div class="nameBox formBoxdiv">
                <div class="labelBox">
                  <label for="productName">상품명 수정</label>
                </div>
                <div class="inputBox">
                  <input
                    placeholder="상품명을 입력해 주세요."
                    id="productName"
                    name="productName"
                    class="notoSansfont"
                    value="<%= data[0].name %>"
                    required
                  />
                  <div class="nameText"></div>
                </div>
              </div>
              <!-- 가격 숫자 -->
              <div class="priceBox formBoxdiv">
                <div class="labelBox">
                  <label for="price">판매가 수정</label>
                </div>
                <div class="inputBox">
                  <input
                    placeholder="판매가를 입력해 주세요."
                    id="price"
                    name="price"
                    type="number"
                    pattern="^\d{1,3}(?:,\d{3})*$"
                    title="숫자만 입력해주세요."
                    class="notoSansfont"
                    value="<%= data[0].price %>"
                    required
                  />
                  <div class="priceText"></div>
                </div>
              </div>

              <!-- 상세내용 -->
              <div class="contentBox formBoxdiv">
                <div class="labelBox">
                  <label for="productContent">상품 상세설명</label>
                </div>
                <div class="textareaBox">
                  <textarea
                    placeholder="상세내용을 입력해 주세요."
                    id="productContent"
                    name="productContent"
                    class="nanum-gothic-regular"
                    required
                  >
<%= data[0].description %></textarea
                  >
                  <div class="contentText"></div>
                </div>
              </div>
              <!-- 상품 타입 선택 -->
              <div class="formBoxdiv">
                <div class="labelBox">상품 타입 선택</div>
                <div class="inputBox typebox">
                  <select id="typeSelect" name="productType">
                    <!-- <option value="" disabled selected>TYPE</option> -->
                    <option
                      value="living <%= data[0].product_type === 'living' ? 'selected' : '' %>"
                    >
                      LIVING
                    </option>
                    <option
                      value="outdoor <%= data[0].product_type === 'outdoor' ? 'selected' : '' %>"
                    >
                      OUTDOOR
                    </option>
                    <option
                      value="fashion <%= data[0].product_type === 'fashion' ? 'selected' : '' %>"
                    >
                      FASHION
                    </option>
                  </select>
                </div>
              </div>
              <!-- 이미지 업로드 -->
              <div class="formBoxdiv">
                <div class="labelBox">
                  <label for="productImage">이미지 수정(업로드 최대 2개)</label>
                </div>
                <input
                  type="file"
                  name="productImage"
                  id="productImage"
                  style="display: none"
                  multiple
                />
                <div class="imgRightBox">
                  <div class="imgRightInBox">
                    <div id="uploadDiv" class="uploadDiv">
                      <img
                        src="/public/img/plus_icon.png"
                        alt="Upload Image"
                        id="uploadImage"
                      />
                    </div>
                    <div id="imgpreviewbox1">
                      <img id="preview1" src="<%= data[0].image_url_1 %>" />
                    </div>
                    <div id="imgpreviewbox2">
                      <img id="preview2" src="<%= data[0].image_url_2 %>" />
                    </div>
                  </div>
                  <div class="imageupText"></div>
                </div>
              </div>

              <!--  -->
              <div class="writebtnWrap">
                <button type="submit" onclick="updateForm(`<%= data[0].id %>`)">
                  수정
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="footer_wrap"><%- include('footer.ejs') %></div>
  </body>
  <script src="/public/js/write.js"></script>
</html>
